<html>
<head></head>
<body>
<p>
The post-processing stage attempts to validate/optimize the frames. It may be
 performed on the device or the recording files can be copied to a desktop
 computer and processed there. The advantage of post-processing on a desktop
 device is that it may be several times faster than processing locally on the
 Android device, particularly if the desktop computer has a Graphics card or
 other hardware supporting OpenCL. The disadvantage is the inconvenience in
 having to copy the recording files from the device to the desktop and then
 copy the processed files back to the device.
</p>
<p>
In order to run the post-process phase on a desktop the following steps need to be
 followed:
<ol>
    <li>
        Copy the files from the Android device to the desktop. ADB pull may be used,
        however it is an order of magnitude slower than installing a sshd server
        (for example
        <a href="https://play.google.com/store/apps/details?id=berserker.android.apps.sshdroid&hl=en">SSHDroid</a>) on
        the device and using rsync or similar to copy the entire recording
        directory including sub-directories such as the frame directory. Note if
        the Android device is not rooted then the ssh server will not be able to run on
        port 22 in which case the following syntax would be required when using rsync:<br>
        <code>
            rsync -avz -e "ssh -p {PORT}" user@{android device IP}:/sdcard/Documents/ARRecorder/{recording-name}/ /local/path/
        </code><br>
        or<br>
        <code>
            scp -r -P {PORT} user@{android device IP}:/sdcard/Documents/ARRecorder/{recording-name}/* /local/path
        </code>
    </li>
    <li>
        Compile the postprocess application in source directory ARem2/ARemRecorder/cvutils/PostProcess:
        <code>
            cd /path/to/source/ARem2/ARemRecorder/cvutils/PostProcess<br>
            mkdir build<br>
            cd build<br>
            cmake ..<br>
            make<br>
            cp postprocess /run/directory<br>
        </code>
        The above assumes OpenCV 3 is installed on the desktop computer. Consult the CMakeLists.txt file
        to optionally specify/override the OpenCV location before running cmake.
        The postprocess program has not been tested in Windows. It does seem to compile OK, at least in a
        Windows VM using CMake and the Visual Studio 2015 command line compiler (CL).
    </li>
    <li>
        Run the postprocess application. It may be run without any arguments after changing
        directory to the newly copied recording directory or with the recording directory
        as the first argument.
    </li>
    <li>
        After the postprocess run has completed copy the recording back to the device (or another
        device if playback on another device is desired). Only the files [recording-name}.head and
        {recording-name}.frames are required.
    </li>
</ol>
</p>
</body>
</html>